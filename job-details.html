<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Job Details â€” PlacementHub</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/job-details.css" />
  <link rel="stylesheet" href="css/styles.css" />

  <script type="module" src="js/jobs.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>

</head>
<body>

<nav class="navbar">
  <div class="nav-inner">
    <div class="nav-left">
      <img src="Job.png" alt="Logo" class="logo-icon">
      <span class="brand">PlacementHub</span>
    </div>

    <div class="nav-right">
      <a href="dashboard.html" class="nav-link">Dashboard</a>
      <a href="jobs.html" class="nav-link">Jobs</a>
      <a href="applications.html" class="nav-link">Applications</a>
      <a href="profile.html" class="nav-link">Profile</a>
      <a href="calendar.html" class="nav-link">Calendar</a>
      <a href="alumni.html" class="nav-link">Alumni</a>
      <a href="news.html" class="nav-link">News</a>
      <a href="#" id="logoutBtn" class="btn-primary">Logout</a>
    </div>
  </div>
</nav>


<main class="container">
  <a href="jobs.html" class="back-link">â† Back to Jobs</a>

  <div class="main-grid">

    <div class="col-left">

      <section class="card job-header-card">
        <div class="job-top">
          <div>
            <h2 id="jobRole">Software Engineer</h2>
            <p class="muted small" id="jobCompany">
              <span id="jobCompanyName">Google</span>
            </p>
          </div>
          <div style="text-align:right">
            <span class="pill tag" id="jobType">Full-time</span>
          </div>
        </div>

        <div class="job-meta">
          <div class="meta-item">ğŸ“ <span id="jobLocation">Bangalore, India</span></div>
          <div class="meta-item">ğŸ’° <span id="jobSalary">20â€“25 LPA</span></div>
          <div class="meta-item">ğŸ•’ <span id="jobDeadline">Apply by: 2024-11-30</span></div>
        </div>

        <div id="jobStatusWrap" style="margin-top:12px">
          <span id="jobStatus" class="status open">Open</span>
          <div class="skills" id="jobSkills" style="margin-top:10px"></div>
        </div>
      </section>

      <section class="card">
        <h3>Job Description</h3>
        <p id="jobDescription">Loading...</p>
      </section>

      <section class="card">
        <h3>Requirements</h3>
        <ul id="jobRequirements" class="check-list"></ul>
      </section>

      <section class="card">
        <h3>Responsibilities</h3>
        <ul id="jobResponsibilities" class="check-list"></ul>
      </section>

      <section class="card">
        <h3>Benefits</h3>
        <ul id="jobBenefits" class="check-list"></ul>
      </section>

      <section class="card">
        <h3>Interview Rounds</h3>
        <div id="jobRounds" class="rounds-container">
          <p class="muted small">Loading...</p>
        </div>
      </section>

    </div>

    <aside class="col-right">

      <section class="card apply-card">
        <h3>Apply for this position</h3>
        <p class="muted small" id="applyDeadline"></p>
        <button id="applyBtn" class="view-btn">Submit Application</button>
      </section>

      <section class="assistant-card">

        <div class="assistant-header">ğŸ“˜ Placement Assistant</div>

        <div id="assistantChat" class="assistant-chat">
          <div class="assistant-message">
ğŸ‘‹ Hi! I'm your Placement Assistant. How can I help today?
          </div>
        </div>

        <hr>

        <div class="assistant-options">
          <button class="assistant-btn" onclick="askAI('analyse')">ğŸ“„ Analyse Job</button>
          <button class="assistant-btn" onclick="askAI('fit')">ğŸ¯ Fit Score</button>
          <button class="assistant-btn" onclick="askAI('lack')">âš™ï¸ Missing Skills</button>
          <button class="assistant-btn" onclick="askAI('plan')">ğŸ“š Prep Plan</button>
          <button class="assistant-btn" onclick="askAI('enhance')">ğŸš€ Improve Profile</button>
          <button class="assistant-btn" onclick="askAI('ats')">ğŸ’¼ ATS Keywords</button>
        </div>

      </section>

    </aside>

  </div>
</main>


<script type="module" src="./js/firebase-init.js"></script>
<script type="module" src="./js/job-details.js"></script>
<script type="module" src="js/assistant.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const logoutBtn = document.getElementById("logoutBtn");

  if (logoutBtn) {
    logoutBtn.addEventListener("click", () => {
      localStorage.removeItem("activeUser");
      window.location.href = "index.html";
    });
  }

  if (!localStorage.getItem("activeUser")) {
    window.location.href = "index.html";
  }
});
</script>

</body>
</html>
