<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Job Details â€” PlacementHub</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/job-details.css" />
  <link rel="stylesheet" href="css/styles.css" />

  <script type="module" src="js/jobs.js"></script>

  <!-- PDF.js (for resume parsing) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>

  <style>
    .assistant-card {
        width: 100%;
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.12);
        overflow: hidden;
        margin-top: 20px;
        font-family: "Inter", sans-serif;
    }
    .assistant-header {
        background: #2563eb;
        padding: 14px 18px;
        color: #fff;
        font-size: 17px;
        font-weight: 600;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .assistant-chat {
        padding: 18px;
        height: 240px;
        overflow-y: auto;
        background: #ffffff;
    }
    .assistant-message {
        background: #f1f5f9;
        padding: 12px 14px;
        border-radius: 14px;
        font-size: 14px;
        max-width: 90%;
        margin-bottom: 10px;
    }
    .assistant-options {
        padding: 14px;
        background: #fff;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
    }
    .assistant-btn {
        background: #2563eb;
        color: white;
        border: none;
        border-radius: 20px;
        padding: 10px 18px;
        font-size: 14px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
        transition: 0.2s;
        white-space: nowrap;
    }
    .assistant-btn:hover {
        background: #1e40af;
    }
  </style>

</head>
<body>

<nav class="navbar">
  <div class="nav-inner">
    <div class="nav-left">
      <img src="Job.png" alt="Logo" class="logo-icon">
      <span class="brand">PlacementHub</span>
    </div>

    <div class="nav-right">
      <a href="dashboard.html" class="nav-link">Dashboard</a>
      <a href="jobs.html" class="nav-link">Jobs</a>
      <a href="applications.html" class="nav-link">Applications</a>
      <a href="profile.html" class="nav-link">Profile</a>
      <a href="calendar.html" class="nav-link">Calendar</a>
      <a href="alumni.html" class="nav-link">Alumni</a>
      <a href="news.html" class="nav-link">News</a>
      <a href="#" id="logoutBtn" class="btn-primary">Logout</a>
    </div>
  </div>
</nav>


<main class="container">
  <a href="jobs.html" class="back-link">â† Back to Jobs</a>

  <div class="main-grid">
    <div class="col-left">

      <section class="card job-header-card">
        <div class="job-top">
          <div>
            <h2 id="jobRole">Software Engineer</h2>
            <p class="muted small" id="jobCompany"><span id="jobCompanyName">Google</span></p>
          </div>
          <div style="text-align:right">
            <span class="pill tag" id="jobType">Full-time</span>
          </div>
        </div>

        <div class="job-meta">
          <div class="meta-item">ğŸ“ <span id="jobLocation">Bangalore, India</span></div>
          <div class="meta-item">ğŸ’° <span id="jobSalary">20â€“25 LPA</span></div>
          <div class="meta-item">ğŸ•’ <span id="jobDeadline">Apply by: 2024-11-30</span></div>
        </div>

        <div id="jobStatusWrap" style="margin-top:12px">
          <span id="jobStatus" class="status open">Open</span>
          <div class="skills" id="jobSkills" style="margin-top:10px"></div>
        </div>
      </section>

      <section class="card">
        <h3>Job Description</h3>
        <p id="jobDescription">Loading...</p>
      </section>

      <section class="card">
        <h3>Requirements</h3>
        <ul id="jobRequirements" class="check-list"></ul>
      </section>

      <section class="card">
        <h3>Responsibilities</h3>
        <ul id="jobResponsibilities" class="check-list"></ul>
      </section>

      <section class="card">
        <h3>Benefits</h3>
        <ul id="jobBenefits" class="check-list"></ul>
      </section>

    </div>

    <aside class="col-right">

      <section class="card">
        <h3>Apply for this position</h3>
        <p class="muted small" id="applyDeadline"></p>
        <button id="applyBtn" class="view-btn">Submit Application</button>
      </section>

      <section class="assistant-card">

        <div class="assistant-header">
          ğŸ“˜ Placement Assistant
        </div>

        <div id="assistantChat" class="assistant-chat">
          <div class="assistant-message">
            ğŸ‘‹ Hi! I'm your Placement Assistant. What would you like to do?
          </div>
        </div>

        <hr>

        <div class="assistant-options">
          <button class="assistant-btn" onclick="askAI('analyse')">ğŸ“„ Analyse Job Profile</button>
          <button class="assistant-btn" onclick="askAI('fit')">ğŸ¯ Do I Fit This Role?</button>
          <button class="assistant-btn" onclick="askAI('lack')">âš™ï¸ What Do I Lack?</button>
          <button class="assistant-btn" onclick="askAI('plan')">ğŸ“š Preparation Plan</button>
          <button class="assistant-btn" onclick="askAI('enhance')">ğŸš€ Enhance My Profile</button>
        </div>

      </section>


    </aside>
  </div>
</main>

<script type="module" src="./js/firebase-init.js"></script>
<script type="module" src="./js/job-details.js"></script>

<script type="module" src="js/assistant.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const logoutBtn = document.getElementById("logoutBtn");

  if (logoutBtn) {
    logoutBtn.addEventListener("click", () => {
      localStorage.removeItem("activeUser");
      window.location.href = "index.html";
    });
  }

  if (!localStorage.getItem("activeUser")) {
    window.location.href = "index.html";
  }
});
</script>


</body>
</html>
